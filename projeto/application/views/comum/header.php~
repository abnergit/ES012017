<!DOCTYPE html>

<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="<?php echo base_url('apple-touch-icon.png');?>">
    <title>
        <?php if (isset($titulo)) { echo $titulo; } else { echo 'ENS App'; } ?>
    </title>

    <link rel="icon" href="<?php echo base_url('favicon.ico'); ?>" type="image/gif">

    <link rel="stylesheet" href="<?php echo base_url('assets/bootstrap/css/bootstrap.min.css')?>">
    <link rel="stylesheet" href="<?php echo base_url('assets/bootstrap/css/bootstrap-theme.min.css')?>">
    <link rel="stylesheet" href="<?php echo base_url('assets/bootstrap/css/bootstrap-submenu.min.css')?>">
    <link rel="stylesheet" href="<?php echo base_url('assets/bootstrap-modal/css/bootstrap-modal.css')?>">
    <link rel="stylesheet" href="<?php echo base_url('assets/bootstrap-modal/css/bootstrap-modal-bs3patch.css')?>">

    <link rel="stylesheet" href="<?php echo base_url('assets/css/jquery.dataTables.min.css')?>">
    <link rel="stylesheet" href="<?php echo base_url('assets/css/fixedColumns.dataTables.min.css')?>">

    <link rel="stylesheet" href="<?php echo base_url('assets/select2-4/css/select2.css')?>">
    <link rel="stylesheet" href="<?php echo base_url('assets/select2-4/css/select2-bootstrap.css')?>">

    <link rel="stylesheet" href="<?php echo base_url('assets/jquery-ui/jquery-ui.min.css')?>">

    <link rel="stylesheet" href="<?php echo base_url('assets/primeui-4.1.15/primeui.min.css')?>">
    <link rel="stylesheet" href="<?php echo base_url('assets/primeui-4.1.15/themes/casablanca/theme.css')?>">

    <link rel="stylesheet" href="<?php echo base_url('assets/css/jquery-confirm.css')?>">

    <link rel="stylesheet" href="<?php echo base_url('assets/font-awesome/css/font-awesome.min.css'); ?>">

    <link rel="stylesheet" href="<?php echo base_url('assets/css/ensapp.css')?>">

    <style>
        /* For fixed navbar after scrolling */
        #nav.affix {
            position: fixed;
            z-index: 10000;
            top: 0;
            width: 100%
        }
        th,
        td {
            #white-space: nowrap;
            overflow: hidden;
            vertical-align: top;
        }

        div.dataTables_wrapper {
            width: 100%;
            margin: 0px auto;
        }
        .modal-footer {
            #border-top: 1px solid #e5e5e5;
            background-color: #f5f5f5;
        }
        /* Resolver o problema do Select2 no bootstrap-modal */
        .select2-dropdown {
            z-index: 10060 !important;/*1051;*/
        }
        .ui-datepicker{
            z-index: 10060 !important;/*1051;*/
        }
        .tooltip {
            z-index: 10090;
            position: fixed;
        }
        .verde {
            color: green;
            font-weight: bold;
        }
        .vermelho {
            color: red;
            font-weight: bold;
        }
        .laranja {
            color: orange;
            font-weight: bold;
        }
        .dropdown-menu {
            width: 200px;
        }
    </style>

    <script src="<?php echo base_url('assets/js/jquery.js');?>" type="text/javascript"></script>

    <script src="<?php echo base_url('assets/jquery-ui/jquery-ui.min.js');?>" type="text/javascript"></script>

    <script src="<?php echo base_url('assets/primeui-4.1.15/primeui.min.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/primeui-4.1.15/x-tag-core.min.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/primeui-4.1.15/primeelements.min.js');?>" type="text/javascript"></script>

    <script src="<?php echo base_url('assets/bootstrap/js/bootstrap.min.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/bootstrap/js/bootstrap-submenu.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/bootstrap/js/docs.js');?>" type="text/javascript" defer></script>
    <script src="<?php echo base_url('assets/bootstrap-modal/js/bootstrap-modal.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/bootstrap-modal/js/bootstrap-modalmanager.js');?>" type="text/javascript"></script>

    <script src="<?php echo base_url('assets/js/jquery.maskedinput.min.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/js/jquery.validate.min.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/js/jquery.validate.add.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/js/jquery-validate.bootstrap-tooltip.min.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/js/additional-methods.min.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/js/localization/messages_pt_BR.min.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/js/jquery.mask.brphone.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/js/jquery.price_format.2.0.min.js');?>" type="text/javascript"></script>

    <script src="<?php echo base_url('assets/js/jquery.dataTables.min.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/js/dataTables.fixedColumns.min.js');?>" type="text/javascript"></script>

    <script src="<?php echo base_url('assets/js/modernizr-2.8.3-respond-1.4.2.min.js');?>" type="text/javascript"></script>

    <script src="<?php echo base_url('assets/select2-4/js/select2.full.min.js');?>" type="text/javascript"></script>
    <script src="<?php echo base_url('assets/select2-4/js/i18n/pt-BR.js');?>" type="text/javascript"></script>

    <script src="<?php echo base_url('assets/js/jquery-confirm.js');?>" type="text/javascript"></script>

    <script src="<?php echo base_url('assets/js/moment.min.js');?>" type="text/javascript"></script>

    <script type="text/javascript">
        // Funções para exibeção de tela de aguarde
        function exibeAguarde(){
            if ($('#waitProcess:visible').length == 0) {
                $("#waitProcess").modal({keyboard:false,backdrop:'static',width:"300px"});
            }
        }
        function escondeAguarde(){
            //if ($('#waitProcess').is(':visible') == true) {
            $("#waitProcess").modal('hide');
            //}
        }
        // Função para verificar se a sessão está ativa
        function verificaSessao() {
            var retorno = true;
            $.ajax({
                type: "POST",
                async: false,
                url: '<?php echo base_url('index.php/login/ajaxVerificaSessao');?>',
                dataType: "html",
                success: function(data){
                    if (data == '') {
                        retorno = false;
                        $(window.document.location).attr("href","<?php echo base_url('index.php');?>");
                    }
                }
            });
            return retorno;
        }
        // Formatação para qualquer mascara
        function cpf_mask(v){
            v=v.replace(/\D/g,"")                 //Remove tudo o que não é dígito
            v=v.replace(/(\d{3})(\d)/,"$1.$2")    //Coloca ponto entre o terceiro e o quarto dígitos
            v=v.replace(/(\d{3})(\d)/,"$1.$2")    //Coloca ponto entre o setimo e o oitava dígitos
            v=v.replace(/(\d{3})(\d)/,"$1-$2")   //Coloca ponto entre o decimoprimeiro e o decimosegundo dígitos
            return v
        }
        // Função para formatação de número
        function number_format( numero, decimal, decimal_separador, milhar_separador ){
            numero = (numero + '').replace(/[^0-9+\-Ee.]/g, '');
            var n = !isFinite(+numero) ? 0 : +numero,
                prec = !isFinite(+decimal) ? 0 : Math.abs(decimal),
                sep = (typeof milhar_separador === 'undefined') ? ',' : milhar_separador,
                dec = (typeof decimal_separador === 'undefined') ? '.' : decimal_separador,
                s = '',
                toFixedFix = function (n, prec) {
                    var k = Math.pow(10, prec);
                    return '' + Math.round(n * k) / k;
                };
            // Fix para IE: parseFloat(0.55).toFixed(0) = 0;
            s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');
            if (s[0].length > 3) {
                s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep);
            }
            if ((s[1] || '').length < prec) {
                s[1] = s[1] || '';
                s[1] += new Array(prec - s[1].length + 1).join('0');
            }

            return s.join(dec);
        }
        // Função para adicionar barras invertidas a uma string
        function addslashes(ch) {
            ch = ch.replace(/\\/g,"\\\\")
            ch = ch.replace(/\'/g,"\\'")
            ch = ch.replace(/\"/g,"\\\"")
            return ch
        }
        // Função para retirar as tags de a e spam do texto
        function removeTags(a){
            if ((a.indexOf('<a') != -1)||(a.indexOf('<span') != -1)) {
                var ini = a.indexOf('>')+1;
                var fim = a.indexOf('<',ini);
                var retorno = a.substring(ini,fim);
            } else {
                var retorno = a;
            }
            return retorno;
        }
        // Ordenação de colunas de data no formato dd/mm/YY
        jQuery.extend( jQuery.fn.dataTableExt.oSort, {
            // Tipo date-uk
            "date-uk-pre": function ( a ) {
                if (a == null || a == "") {
                    return 0;
                }
                a = removeTags(a);
                var ukDatea = a.split('/');
                return (ukDatea[2] + ukDatea[1] + ukDatea[0]) * 1;
            },
            "date-uk-asc": function ( a, b ) {
                return ((a < b) ? -1 : ((a > b) ? 1 : 0));
            },
            "date-uk-desc": function ( a, b ) {
                return ((a < b) ? 1 : ((a > b) ? -1 : 0));
            },
            // Tipo mencao-unb
            "mencao-unb-pre": function ( a ) {
                // Add / alter the switch statement below to match your enum list
                a = removeTags(a);
                switch( a ) {
                    case "SR": return 1;
                    case "II": return 2;
                    case "MI": return 3;
                    case "MM": return 4;
                    case "MS": return 5;
                    case "SS": return 6;
                    default:   return 0;
                }
            },
            "mencao-unb-asc": function ( a, b ) {
                return ((a < b) ? -1 : ((a > b) ? 1 : 0));
            },
            "mencao-unb-desc": function ( a, b ) {
                return ((a < b) ? 1 : ((a > b) ? -1 : 0));
            },
            // Tipo dias-freq
            "dias-freq-pre": function ( a ) {
                a = removeTags(a);
                if ((a == "-")||(!$.isNumeric(a))) {
                    return 99999999;
                }
                return parseInt(a);
            },
            "dias-freq-asc": function ( a, b ) {
                return ((a < b) ? -1 : ((a > b) ? 1 : 0));
            },
            "dias-freq-desc": function ( a, b ) {
                return ((a < b) ? 1 : ((a > b) ? -1 : 0));
            },
            // Tipo posts
            "posts-pre": function ( a ) {
                a = removeTags(a);
                if (a == "-") {
                    return 0;
                }
                var ini = a.indexOf('>')+1;
                var fim = a.indexOf('<',ini);
                var retorno = a.substring(ini,fim);
                return parseInt(retorno);
            },
            "posts-asc": function ( a, b ) {
                return ((a < b) ? -1 : ((a > b) ? 1 : 0));
            },
            "posts-desc": function ( a, b ) {
                return ((a < b) ? 1 : ((a > b) ? -1 : 0));
            },

            "br-datetime-pre": function ( a ) {
                a = removeTags(a);
                var x, y;
                if (jQuery.trim(a) !== '') {
                    var deDatea = jQuery.trim(a).split(' ');
                    var deTimea = deDatea[1].split(':');
                    var deDatea2 = deDatea[0].split('/');
                    x = (deDatea2[2] + deDatea2[1] + deDatea2[0] + deTimea[0] + deTimea[1]) * 1;
                } else {
                    x = Infinity; // = l'an 1000 ...
                }
                return x;
            },
            "br-datetime-asc": function ( a, b ) {
                return ((a < b) ? -1 : ((a > b) ? 1 : 0));
            },
            "br-datetime-desc": function ( a, b ) {
                return ((a < b) ? 1 : ((a > b) ? -1 : 0));;
            },

            "br-date-pre": function ( a ) {
                a = removeTags(a);
                var x;
                if (jQuery.trim(a) !== '') {
                    var deDatea = jQuery.trim(a).split('/');
                    x = (deDatea[2] + deDatea[1] + deDatea[0]) * 1;
                } else {
                    x = Infinity; // = l'an 1000 ...
                }
                return x;
            },
            "br-date-asc": function ( a, b ) {
                return ((a < b) ? -1 : ((a > b) ? 1 : 0));
            },
            "br-date-desc": function ( a, b ) {
                return ((a < b) ? 1 : ((a > b) ? -1 : 0));;
            },

            "portugues-pre": function ( a ) {
                retorno = removeTags(a);

                var a = 'a';
                var e = 'e';
                var i = 'i';
                var o = 'o';
                var u = 'u';
                var c = 'c';
                var special_letters = {
                    "Á": a, "á": a, "Ã": a, "ã": a, "À": a, "à": a, "Â": a, "â": a,
                    "É": e, "é": e, "Ê": e, "ê": e,
                    "Í": i, "í": i, "Î": i, "î": i,
                    "Ó": o, "ó": o, "Õ": o, "õ": o, "Ô": o, "ô": o,
                    "Ú": u, "ú": u, "Ü": u, "ü": u,
                    "ç": c, "Ç": c
                };
                for (var val in special_letters)
                    retorno = retorno.split(val).join(special_letters[val]).toLowerCase();
                return retorno;
            },
            "portugues-asc": function ( a, b ) {
                return ((a < b) ? -1 : ((a > b) ? 1 : 0));
            },
            "portugues-desc": function ( a, b ) {
                return ((a < b) ? 1 : ((a > b) ? -1 : 0));
            },
            "percent-pre": function ( a ) {
                retorno = removeTags(a);
                var x = (retorno == "-") ? 0 : retorno.replace( /%/, "" );
                return parseFloat( x );
            },
            "percent-asc": function ( a, b ) {
                return ((a < b) ? -1 : ((a > b) ? 1 : 0));
            },
            "percent-desc": function ( a, b ) {
                return ((a < b) ? 1 : ((a > b) ? -1 : 0));
            },
        } );
        //
        $(document).ready(function(){
            // Bloquear a digitação de apostrofre em qualquer input
            $('input').keypress(function(key) {
                if(key.charCode == 39) return false;
            });
            // Mostrar o tooltip para as ancoras
            $('a').tooltip();
            // Em todos os datatables
            $('.table').on( 'draw.dt', function () {
                $('a').tooltip();
            } );
            // Mudar a tela de aguarde
            $.fn.modalmanager.defaults.spinner =
                '<div class="loading-spinner panel panel-primary" style="width: 300px; margin-left: -100px;">' +
                '<div class="panel-heading">' +
                '<h4  class="panel-title" style="text-align: center;">Por favor aguarde ...</h4>' +
                '</div>' +
                '<div class="panel-body" style="text-align: center;">' +
                '<img src="<?php echo base_url('assets/css/images/loading.gif'); ?>"/> Processando as informações' +
                '<br /><br />' +
                '<div class="progress">' +
                '<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">' +
                '<span class="sr-only">100% Completo</span>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>';
            // Só número
            $('.so_numero').keypress(function(event) {
                var tecla = (window.event) ? event.keyCode : event.which;
                if ((tecla > 47 && tecla < 58)) return true;
                else {
                    if (tecla != 8) return false;
                    else return true;
                }
            });
            // Configurações do datepicker
            $.datepicker.regional['pt-BR'] = {
                closeText: 'Fechar',
                prevText: '&lt;Anterior',
                nextText: 'Próximo&gt;',
                currentText: 'Hoje',
                monthNames: ['Janeiro','Fevereiro','Março','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'],
                monthNamesShort: ['Jan','Fev','Mar','Abr','Mai','Jun','Jul','Ago','Set','Out','Nov','Dez'],
                dayNames: ['Domingo','Segunda-feira','Terça-feira','Quarta-feira','Quinta-feira','Sexta-feira','Sabado'],
                dayNamesShort: ['Dom','Seg','Ter','Qua','Qui','Sex','Sab'],
                dayNamesMin: ['Dom','Seg','Ter','Qua','Qui','Sex','Sab'],
                weekHeader: 'Sm',
                dateFormat: 'dd/mm/yy',
                firstDay: 0,
                isRTL: false,
                showMonthAfterYear: false,
                changeMonth: true,
                changeYear: true,
                yearSuffix: '',
                //showOn: "button",
                //buttonImage: "<?php echo base_url('assets/images/calendar_icon.jpg'); ?>",
                //buttonImageOnly: true,
                //buttonText: "Selecione uma data"
            };
            $.datepicker.setDefaults($.datepicker.regional['pt-BR']);
            // Método de validação de data
            $.validator.addMethod("data", function(value, element) {
                var data = moment(value, "dd/mm/yyyy");
                if (data === "Invalid date") {
                    return false;
                } else {
                    return true;
                }
            }, "Por favor, forneça uma data válida");
            // Libera memória dos modais
            $('body').on('hidden.bs.modal','.modal',function(){
                $(this).data('modal', null);
                $(this).destroy;
            });
        });
    </script>
</head>

<body>
<?php if (!isset($sem_corpo)) { ?>
<a class="hide" id="topo" href="#accessibility">Ir direto para menu de acessibilidade.</a>
<noscript>
    <div class="error minor-font">
        Seu navegador de internet está sem suporte à JavaScript. Por esse motivo algumas funcionalidades do site podem não estar acessíveis.
    </div>
</noscript>
<!--[if lt IE 8]>
<center><strong>Atenção, a versão de seu navegador não é compatível com este sítio. Atualize seu navegador.</strong></center>
<![endif]-->
<!-- barra do governo -->
<div id="barra-brasil" style="background:#7F7F7F; height: 20px; padding:0 0 0 10px;display:block;">
    <ul id="menu-barra-temp" style="list-style:none;">
        <li style="display:inline; float:left;padding-right:10px; margin-right:10px; border-right:1px solid #EDEDED"><a href="http://brasil.gov.br" style="font-family:sans,sans-serif; text-decoration:none; color:white;">Portal do Governo Brasileiro</a>
        </li>
        <li><a style="font-family:sans,sans-serif; text-decoration:none; color:white;" href="http://epwg.governoeletronico.gov.br/barra/atualize.html">Atualize sua Barra de Governo</a>
        </li>
    </ul>
</div>
<!-- fim barra do governo -->
<header>
    <div class="container">
        <!--<div class="row accessibility-language-actions-container">
            <div class="col-sm-6 accessibility-container">
                <ul id="accessibility">
                    <li> <a accesskey="1" href="#container" id="link-conteudo"> Ir para o conte&uacute;do <span>1</span> </a> </li>
                    <li> <a accesskey="2" href="#navigation" id="link-navegacao"> Ir para o menu <span>2</span> </a> </li>
                    <li> <a accesskey="3" href="#portal-searchbox" id="link-buscar"> Ir para a busca <span>3</span> </a> </li>
                    <li> <a accesskey="4" href="#footer" id="link-rodape"> Ir para o rodap&eacute; <span>4</span> </a> </li>
                </ul>
            </div>
            <div class="col-sm-6 language-and-actions-container">
                <ul id="portal-siteactions" class="pull-right">
                    <li> <a accesskey="5" href="interna-acessibilidade.html">Acessibilidade</a> </li>
                    <li> <a accesskey="6" href="#" class="toggle-contraste">Alto Contraste</a> </li>
                    <li> <a accesskey="7" href="#">Mapa do Site</a> </li>
                </ul>
            </div>
        </div>-->
        <div class="row">
            <div id="logo" class="col-sm-8">
                <!-- <div id="logo" class="span8 big"> <div id="logo" class="span8 small"> -->

                <!--<span class="portal-title-1">Secretaria de Direitos Humanos - SDH/PR</span>-->
                <a href="<?php echo base_url('index.php');?>" title="Comunidade da Escola Nacional de Socioeducação">
                    <h1 class="portal-title corto">Comunidade ENS</h1>
                </a>
                    <span class="portal-description">
                        <a href="http://ens.sinase.sdh.gov.br" target="_blank">Portal ENS</a>
                         | 
                        <a href="http://www.sdh.gov.br/assuntos/criancas-e-adolescentes/programas/sistema-nacional-de-medidas-socioeducativas/sistema-nacional-de-atendimento-socioeducativo-sinase-1" target="_blank">SINASE</a>
                         | 
                        <a href="http://sdh.gov.br" target="_blank">Secretaria de Direitos Humanos</a>
                    </span>

            </div>
        </div>
    </div>
    <!--
    <div class="sobre">
        <div class="container">
            <nav class="menu-servicos pull-right">
                <h2 class="hide">Serviços</h2>
                <ul>
                    <li class="portalservicos-item">
                        <a> </a>
                    </li>
                    <li class="portalservicos-item"> <a title="Perguntas frequentes" href="interna-perguntas-frequentes.html">Perguntas frequentes</a> </li>
                        <li class="portalservicos-item"> <a title="Contato" href="#">Contato</a> </li>
                        <li class="portalservicos-item"> <a title="Serviços da [Denominação]" href="#">Serviços da [Denominação]</a> </li>
                        <li class="portalservicos-item"> <a title="Dados abertos" href="#">Dados abertos</a> </li>
                        <li class="portalservicos-item"> <a title="Área de imprensa" href="#">Área de imprensa</a> </li>
                </ul>
                <span class="hide">Fim do menu de serviços</span>
            </nav>
        </div>
    </div>
    -->
</header>
<main class="container" id="app">
    <!-- MODAL WAIT PROCESS -->
    <div class="modal fade panel panel-primary" id="waitProcess">
        <div class="panel-heading">
            <h4 class="modal-title" style="text-align: center;">Por favor aguarde ...</h4>
        </div>
        <div class="panel-body" style="text-align: center;">
            <img src="<?php echo base_url('assets/css/images/loading.gif'); ?>"/> Processando as informações
            <br /><br />
            <div class="progress">
                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                    <span class="sr-only">100% Completo</span>
                </div>
            </div>
        </div>
    </div>
    <?php } ?>
